<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EngPlay Master â€” Ä°ngilis Dili Oyunu</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --accent: #fd79a8;
            --success: #00b894;
            --danger: #ff7675;
            --dark: #2d3436;
            --light: #dfe6e9;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        * {
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* Arxa fon effektlÉ™ri */
        .blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            z-index: 0;
            opacity: 0.4;
        }
        .b1 { width: 300px; height: 300px; background: #fab1a0; top: -50px; left: -50px; }
        .b2 { width: 250px; height: 250px; background: #74b9ff; bottom: -50px; right: -50px; }

        .container {
            background: rgba(255, 255, 255, 0.92);
            width: 90%;
            max-width: 480px;
            padding: 35px 25px;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            text-align: center;
            position: relative;
            z-index: 1;
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255,255,255,0.5);
            transition: all 0.3s ease;
        }

        h1 { color: var(--primary); font-size: 2rem; margin: 0 0 10px 0; letter-spacing: -1px; }
        h2 { color: var(--dark); font-weight: 600; font-size: 1.4rem; margin-bottom: 20px; }
        p { color: #636e72; margin-bottom: 25px; font-size: 0.95rem; line-height: 1.6; }

        /* Button Stylling */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 16px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 14px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 12px;
            transition: transform 0.2s, box-shadow 0.2s, background 0.2s;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(108, 92, 231, 0.3);
            background: #5b4cc4;
        }
        
        .btn:active { transform: scale(0.98); }

        .btn-outline {
            background: transparent;
            border: 2px solid #b2bec3;
            color: #636e72;
            box-shadow: none;
        }
        .btn-outline:hover {
            background: #dfe6e9;
            border-color: #b2bec3;
            color: var(--dark);
        }

        /* Kart DizaynÄ± (Category & Level) */
        .selection-card {
            background: white;
            border: 2px solid #f1f2f6;
            padding: 20px;
            margin-bottom: 12px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex;
            align-items: center;
            text-align: left;
        }

        .selection-card:hover {
            border-color: var(--secondary);
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .card-icon {
            width: 50px;
            height: 50px;
            background: #f0f3ff;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin-right: 15px;
            color: var(--primary);
        }

        .card-info h3 { margin: 0 0 4px 0; font-size: 16px; color: var(--dark); }
        .card-info span { font-size: 12px; color: #999; }

        /* Quiz UI */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            font-size: 13px;
            font-weight: 600;
            color: #b2bec3;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #f1f2f6;
            border-radius: 10px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.4s ease;
            border-radius: 10px;
        }

        #question-text {
            font-size: 1.25rem;
            color: var(--dark);
            margin-bottom: 25px;
            font-weight: 500;
        }

        .option {
            background: white;
            border: 2px solid #f1f2f6;
            color: var(--dark);
            padding: 16px 20px;
            border-radius: 14px;
            margin-bottom: 10px;
            cursor: pointer;
            text-align: left;
            font-weight: 500;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .option:hover:not(.disabled) {
            border-color: var(--primary);
            background-color: #f8f9fe;
        }

        .option.correct {
            background-color: var(--success);
            border-color: var(--success);
            color: white;
        }
        .option.wrong {
            background-color: var(--danger);
            border-color: var(--danger);
            color: white;
            animation: shake 0.4s;
        }
        .option.disabled { pointer-events: none; opacity: 0.9; }

        /* Screen Management */
        .screen { display: none; animation: fadeIn 0.4s ease; }
        .screen.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-6px); }
            75% { transform: translateX(6px); }
        }

        /* Result Styles */
        .score-circle {
            width: 130px;
            height: 130px;
            border-radius: 50%;
            background: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin: 0 auto 25px;
            border: 6px solid #f1f2f6;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        .score-number { font-size: 2.5rem; font-weight: 700; color: var(--dark); line-height: 1; }
        .score-total { font-size: 1rem; color: #b2bec3; }

    </style>
</head>
<body>

    <div class="blob b1"></div>
    <div class="blob b2"></div>

    <div class="container">
        <div id="home-screen" class="screen active">
            <div style="font-size: 50px; margin-bottom: 15px;">ðŸ‡¬ðŸ‡§</div>
            <h1>EngPlay Master</h1>
            <p>SÉ™viyyÉ™ni seÃ§, hÉ™m qrammatikanÄ±, hÉ™m dÉ™ sÃ¶z ehtiyatÄ±nÄ± inkiÅŸaf etdir.</p>
            <button class="btn" onclick="showScreen('category-screen')">BaÅŸlamaq Ã¼Ã§Ã¼n toxun ðŸ‘‰</button>
        </div>

        <div id="category-screen" class="screen">
            <h2>NÉ™yi Ã¶yrÉ™nmÉ™k istÉ™yirsÉ™n?</h2>
            
            <div class="selection-card" onclick="selectCategory('vocab')">
                <div class="card-icon">ðŸ“š</div>
                <div class="card-info">
                    <h3>LÃ¼ÄŸÉ™t (Vocabulary)</h3>
                    <span>SÃ¶zlÉ™r, mÉ™nalar vÉ™ tÉ™rcÃ¼mÉ™lÉ™r</span>
                </div>
            </div>

            <div class="selection-card" onclick="selectCategory('grammar')">
                <div class="card-icon">âš¡</div>
                <div class="card-info">
                    <h3>Qrammatika (Grammar)</h3>
                    <span>Zamanlar, cÃ¼mlÉ™ quruluÅŸu</span>
                </div>
            </div>

            <button class="btn btn-outline" style="margin-top: 20px;" onclick="showScreen('home-screen')">Geri</button>
        </div>

        <div id="level-screen" class="screen">
            <h2 id="level-title">SÉ™viyyÉ™ni SeÃ§</h2>
            
            <div class="selection-card" onclick="startGame(0)">
                <div class="card-icon" style="color:#00b894;">ðŸŒ±</div>
                <div class="card-info">
                    <h3>Beginner (Asan)</h3>
                    <span id="level-desc-easy">BaÅŸlanÄŸÄ±c sÉ™viyyÉ™</span>
                </div>
            </div>

            <div class="selection-card" onclick="startGame(1)">
                <div class="card-icon" style="color:#fdcb6e;">ðŸš€</div>
                <div class="card-info">
                    <h3>Intermediate (Orta)</h3>
                    <span id="level-desc-med">Orta sÉ™viyyÉ™</span>
                </div>
            </div>

            <div class="selection-card" onclick="startGame(2)">
                <div class="card-icon" style="color:#ff7675;">ðŸ”¥</div>
                <div class="card-info">
                    <h3>Advanced (Ã‡É™tin)</h3>
                    <span id="level-desc-hard">YÃ¼ksÉ™k sÉ™viyyÉ™</span>
                </div>
            </div>

            <button class="btn btn-outline" style="margin-top: 20px;" onclick="showScreen('category-screen')">Kateqoriyaya qayÄ±t</button>
        </div>

        <div id="game-screen" class="screen">
            <div class="quiz-header">
                <span id="game-mode-badge">VOCABULARY</span>
                <span id="score-badge">XAL: 0</span>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>

            <div id="question-text">Sual burda olacaq</div>
            
            <div id="options-container"></div>

            <button class="btn btn-outline" style="margin-top: 25px;" onclick="quitGame()">Ã‡Ä±xÄ±ÅŸ</button>
        </div>

        <div id="result-screen" class="screen">
            <div class="score-circle" id="final-circle">
                <span class="score-number" id="final-score">8</span>
                <span class="score-total">/10</span>
            </div>
            <h2 id="result-title">MÃ¶htÉ™ÅŸÉ™m! ðŸŽ‰</h2>
            <p id="result-msg">SÃ¶z bazanÄ±z É™ladÄ±r.</p>
            
            <button class="btn" id="next-action-btn" onclick="nextAction()">NÃ¶vbÉ™ti SÉ™viyyÉ™</button>
            <button class="btn btn-outline" onclick="showScreen('category-screen')">Kateqoriya SeÃ§imi</button>
        </div>
    </div>

<script>
    // --- DATABASE ---
    
    // LÃ¼ÄŸÉ™t BazasÄ±
    const vocabData = [
        // Level 0: Beginner
        [
            { q: "'Apple' sÃ¶zÃ¼nÃ¼n AzÉ™rbaycan dilindÉ™ mÉ™nasÄ±:", o: ["Armud", "Alma", "ÃœzÃ¼m"], a: 1 },
            { q: "HansÄ± rÉ™ng 'Red' adlanÄ±r?", o: ["QÄ±rmÄ±zÄ±", "GÃ¶y", "SarÄ±"], a: 0 },
            { q: "'Mother' sÃ¶zÃ¼nÃ¼n tÉ™rcÃ¼mÉ™si:", o: ["BacÄ±", "Xala", "Ana"], a: 2 },
            { q: "MÉ™ktÉ™b lÉ™vazimatÄ±: 'Pencil'", o: ["QÉ™lÉ™m (pozanlÄ±)", "DÉ™ftÉ™r", "Kitab"], a: 0 },
            { q: "HansÄ± heyvan 'Dog'dur?", o: ["PiÅŸik", "Ä°t", "QuÅŸ"], a: 1 },
            { q: "'Good morning' ifadÉ™sinin mÉ™nasÄ±:", o: ["SabahÄ±nÄ±z xeyir", "GecÉ™niz xeyir", "Salam"], a: 0 },
            { q: "RÉ™qÉ™m: 'Twenty'", o: ["12", "20", "30"], a: 1 },
            { q: "'To eat' felinin mÉ™nasÄ±:", o: ["Ä°Ã§mÉ™k", "YemÉ™k", "Yatmaq"], a: 1 },
            { q: "BÉ™dÉ™n Ã¼zvÃ¼: 'Hand'", o: ["BaÅŸ", "Ayaq", "Æl"], a: 2 },
            { q: "FÉ™sil: 'Summer'", o: ["QÄ±ÅŸ", "Yay", "PayÄ±z"], a: 1 }
        ],
        // Level 1: Intermediate
        [
            { q: "'Success' sÃ¶zÃ¼nÃ¼n mÉ™nasÄ±:", o: ["UÄŸur", "SÉ™hv", "TÉ™hlÃ¼kÉ™"], a: 0 },
            { q: "HansÄ± sÃ¶z 'SÉ™yahÉ™t' demÉ™kdir?", o: ["Travel", "Traffic", "Trouble"], a: 0 },
            { q: "'Dangerous' sÃ¶zÃ¼nÃ¼n É™ksi:", o: ["Safe", "Risky", "Hard"], a: 0 },
            { q: "'To improve' felinin mÉ™nasÄ±:", o: ["PislÉ™ÅŸdirmÉ™k", "Ä°nkiÅŸaf etdirmÉ™k", "DayandÄ±rmaq"], a: 1 },
            { q: "Sinonimi tap: 'Happy'", o: ["Sad", "Glad", "Angry"], a: 1 },
            { q: "'Environment' nÉ™ demÉ™kdir?", o: ["HÃ¶kumÉ™t", "MÃ¼hit / Ætraf mÃ¼hit", "TÉ™hsil"], a: 1 },
            { q: "HansÄ± sÃ¶z 'QÉ™rar' demÉ™kdir?", o: ["Decision", "Discussion", "Division"], a: 0 },
            { q: "'Borrow' sÃ¶zÃ¼nÃ¼n mÉ™nasÄ±:", o: ["Borc vermÉ™k", "Borc almaq", "Satmaq"], a: 1 },
            { q: "'Delicious' sÃ¶zÃ¼ nÉ™yi tÉ™svir edir?", o: ["HavanÄ±", "YemÉ™yi", "PaltarÄ±"], a: 1 },
            { q: "'Immediately' sÃ¶zÃ¼nÃ¼n tÉ™rcÃ¼mÉ™si:", o: ["TÉ™cili / DÉ™rhal", "YavaÅŸca", "Sonra"], a: 0 }
        ],
        // Level 2: Advanced
        [
            { q: "'Inevitable' sÃ¶zÃ¼nÃ¼n mÉ™nasÄ±:", o: ["QaÃ§Ä±lmaz", "MÃ¼mkÃ¼n olmayan", "TÉ™sadÃ¼fi"], a: 0 },
            { q: "'Reluctant' sÃ¶zÃ¼nÃ¼n sinonimi:", o: ["Willing", "Unwilling", "Excited"], a: 1 },
            { q: "Ä°diom: 'Piece of cake' nÉ™ demÉ™kdir?", o: ["Ã‡ox dadlÄ±", "Ã‡ox asan", "Ã‡ox Ã§É™tin"], a: 1 },
            { q: "'To procrastinate' felinin mÉ™nasÄ±:", o: ["TÉ™lÉ™smÉ™k", "Ä°ÅŸlÉ™ri sonraya saxlamaq", "Plan qurmaq"], a: 1 },
            { q: "'Ambiguous' sÃ¶zÃ¼ nÉ™yi bildirir?", o: ["AydÄ±n olmayan / Ä°kimÉ™nalÄ±", "DÉ™qiq", "Parlaq"], a: 0 },
            { q: "'Wealthy' sÃ¶zÃ¼nÃ¼n sinonimi:", o: ["Poor", "Affluent", "Weak"], a: 1 },
            { q: "'To distinct' nÉ™ demÉ™kdir?", o: ["FÉ™rqlÉ™ndirmÉ™k", "BirlÉ™ÅŸdirmÉ™k", "GizlÉ™tmÉ™k"], a: 0 },
            { q: "'Simultaneously' sÃ¶zÃ¼nÃ¼n mÉ™nasÄ±:", o: ["Eyni zamanda", "ArdÄ±cÄ±llÄ±qla", "GecikmÉ™ ilÉ™"], a: 0 },
            { q: "'Obsolete' sÃ¶zÃ¼ nÉ™ vaxt iÅŸlÉ™nir?", o: ["MÃ¼asir olduqda", "KÃ¶hnÉ™lmiÅŸ olduqda", "Yeni olduqda"], a: 1 },
            { q: "'To scrutinize' felinin mÉ™nasÄ±:", o: ["SÉ™thi baxmaq", "DiqqÉ™tlÉ™ araÅŸdÄ±rmaq", "Ä°qnor etmÉ™k"], a: 1 }
        ]
    ];

    // Qrammatika BazasÄ±
    const grammarData = [
        // Level 0: Beginner
        [
            { q: "I ___ a student.", o: ["is", "am", "are"], a: 1 },
            { q: "She ___ to school by bus.", o: ["go", "going", "goes"], a: 2 },
            { q: "___ you like pizza?", o: ["Do", "Does", "Is"], a: 0 },
            { q: "They ___ playing football now.", o: ["is", "am", "are"], a: 2 },
            { q: "He ___ have a car.", o: ["don't", "doesn't", "isn't"], a: 1 },
            { q: "This is ___ apple.", o: ["a", "an", "two"], a: 1 },
            { q: "We ___ at home yesterday.", o: ["was", "were", "are"], a: 1 },
            { q: "Can you ___ English?", o: ["speak", "speaks", "speaking"], a: 0 },
            { q: "Where ___ you from?", o: ["is", "am", "are"], a: 2 },
            { q: "My cat is ___ than your cat.", o: ["big", "bigger", "biggest"], a: 1 }
        ],
        // Level 1: Intermediate
        [
            { q: "I ___ here for 5 years.", o: ["live", "have lived", "lived"], a: 1 },
            { q: "If I ___ you, I would go there.", o: ["was", "were", "am"], a: 1 },
            { q: "She went to the party, ___ she?", o: ["didn't", "doesn't", "isn't"], a: 0 },
            { q: "The book ___ by J.K. Rowling.", o: ["wrote", "was written", "written"], a: 1 },
            { q: "I look forward to ___ you.", o: ["see", "seeing", "saw"], a: 1 },
            { q: "He stopped ___ cigarettes last year.", o: ["smoke", "to smoke", "smoking"], a: 2 },
            { q: "Unless you ___, you will fail.", o: ["study", "don't study", "will study"], a: 0 },
            { q: "This is the man ___ car was stolen.", o: ["who", "which", "whose"], a: 2 },
            { q: "I prefer coffee ___ tea.", o: ["than", "to", "from"], a: 1 },
            { q: "You ___ take photos here. It's forbidden.", o: ["mustn't", "don't have to", "shouldn't"], a: 0 }
        ],
        // Level 2: Advanced
        [
            { q: "No sooner ___ arrived than it started raining.", o: ["I had", "did I", "had I"], a: 2 },
            { q: "It's high time we ___ home.", o: ["go", "went", "gone"], a: 1 },
            { q: "She denied ___ the money.", o: ["stealing", "to steal", "steal"], a: 0 },
            { q: "Seldom ___ such a beautiful view.", o: ["I have seen", "have I seen", "did I see"], a: 1 },
            { q: "I'd rather you ___ smoke inside.", o: ["didn't", "don't", "not"], a: 0 },
            { q: "By next year, I ___ here for 20 years.", o: ["will live", "will have lived", "am living"], a: 1 },
            { q: "Despite ___ tired, he kept working.", o: ["he was", "of being", "being"], a: 2 },
            { q: "Had I known, I ___ you.", o: ["would help", "would have helped", "helped"], a: 1 },
            { q: "Not only ___ late, but he was also rude.", o: ["was he", "he was", "is he"], a: 0 },
            { q: "He is believed ___ the country.", o: ["to leave", "to have left", "leaving"], a: 1 }
        ]
    ];

    // --- GAME STATE ---
    let currentMode = ''; // 'vocab' or 'grammar'
    let currentLevel = 0;
    let questionIndex = 0;
    let score = 0;
    let activeData = []; // Hal-hazÄ±rda seÃ§ilÉ™n suallar massivi

    // --- NAVIGATION ---
    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function selectCategory(mode) {
        currentMode = mode;
        const levelTitle = document.getElementById('level-title');
        
        // SÉ™viyyÉ™ mÉ™tnlÉ™rini dÉ™yiÅŸmÉ™k olar
        if(mode === 'vocab') {
            levelTitle.innerText = "LÃ¼ÄŸÉ™t SÉ™viyyÉ™si";
            document.getElementById('level-desc-easy').innerText = "GÃ¼ndÉ™lik sÃ¶zlÉ™r";
            document.getElementById('level-desc-med').innerText = "Biznes vÉ™ SÉ™yahÉ™t";
            document.getElementById('level-desc-hard').innerText = "Akademik sÃ¶zlÉ™r";
        } else {
            levelTitle.innerText = "Qrammatika SÉ™viyyÉ™si";
            document.getElementById('level-desc-easy').innerText = "SadÉ™ zamanlar";
            document.getElementById('level-desc-med').innerText = "MÃ¼rÉ™kkÉ™b cÃ¼mlÉ™lÉ™r";
            document.getElementById('level-desc-hard').innerText = "Professional qrammatika";
        }
        
        showScreen('level-screen');
    }

    function quitGame() {
        if(confirm("Oyundan Ã§Ä±xmaq istÉ™yirsiniz?")) {
            showScreen('level-screen');
        }
    }

    // --- GAME LOGIC ---
    function startGame(level) {
        currentLevel = level;
        questionIndex = 0;
        score = 0;
        
        // DÃ¼zgÃ¼n bazanÄ± seÃ§
        activeData = currentMode === 'vocab' ? vocabData[level] : grammarData[level];
        
        // UI YenilÉ™mÉ™
        document.getElementById('game-mode-badge').innerText = currentMode === 'vocab' ? "VOCABULARY" : "GRAMMAR";
        document.getElementById('score-badge').innerText = "XAL: 0";
        
        showScreen('game-screen');
        loadQuestion();
    }

    function loadQuestion() {
        const qData = activeData[questionIndex];
        
        // Progress Bar
        const percent = (questionIndex / activeData.length) * 100;
        document.getElementById('progress-bar').style.width = `${percent}%`;

        document.getElementById('question-text').textContent = qData.q;
        const container = document.getElementById('options-container');
        container.innerHTML = '';

        qData.o.forEach((opt, idx) => {
            const btn = document.createElement('div
