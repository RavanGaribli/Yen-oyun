<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EngPlay Pro ‚Äî ƒ∞ngilis Dili Oyunu</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --success: #00b894;
            --danger: #ff7675;
            --dark: #2d3436;
            --light: #dfe6e9;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        * {
            box-sizing: border-box;
            user-select: none;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-gradient);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* Arxa fon b…ôz…ôkl…ôri (Circles) */
        .circle {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            z-index: 0;
        }
        .c1 { width: 300px; height: 300px; top: -50px; left: -50px; }
        .c2 { width: 200px; height: 200px; bottom: -50px; right: -50px; }

        .container {
            background: rgba(255, 255, 255, 0.95);
            width: 90%;
            max-width: 480px;
            padding: 40px 30px;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.25);
            text-align: center;
            position: relative;
            z-index: 1;
            backdrop-filter: blur(10px);
            transition: height 0.3s ease;
        }

        h1 { color: var(--primary); font-size: 2.2rem; margin-bottom: 5px; }
        h2 { color: var(--dark); font-weight: 600; }
        p { color: #636e72; margin-bottom: 30px; font-size: 1rem; }

        /* Button Stylling */
        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            width: 100%;
            margin-bottom: 12px;
            transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.3);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(108, 92, 231, 0.4);
            background: #5b4cc4;
        }

        .btn:active { transform: translateY(-1px); }

        .btn-outline {
            background: transparent;
            border: 2px solid #b2bec3;
            color: #636e72;
            box-shadow: none;
        }
        .btn-outline:hover {
            background: #b2bec3;
            color: white;
        }

        /* S…ôviyy…ô Kartlarƒ± */
        .level-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: white;
            border: 2px solid #eee;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 12px;
            cursor: pointer;
            transition: 0.3s;
            text-align: left;
        }
        .level-card:hover {
            border-color: var(--primary);
            background: #f8f9fa;
        }
        .level-icon { font-size: 24px; margin-right: 15px; }
        .level-info h3 { margin: 0; font-size: 16px; color: var(--dark); }
        .level-info span { font-size: 12px; color: #888; }

        /* Quiz Sah…ôsi */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            font-size: 14px;
            font-weight: 600;
            color: #b2bec3;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            height: 8px;
            background-color: #eee;
            border-radius: 10px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        .progress-bar {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.5s ease;
        }

        #question-text {
            font-size: 1.3rem;
            color: var(--dark);
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .option {
            background: white;
            border: 2px solid #e0e0e0;
            color: var(--dark);
            padding: 15px 20px;
            border-radius: 12px;
            margin-bottom: 12px;
            cursor: pointer;
            text-align: left;
            font-weight: 500;
            position: relative;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .option:hover:not(.disabled) {
            border-color: var(--primary);
            background-color: #f0f3ff;
        }

        /* Variant R…ôngl…ôri */
        .option.correct {
            background-color: var(--success);
            border-color: var(--success);
            color: white;
        }
        .option.wrong {
            background-color: var(--danger);
            border-color: var(--danger);
            color: white;
            animation: shake 0.4s;
        }
        .option.disabled {
            pointer-events: none;
        }

        /* ƒ∞konlar */
        .status-icon {
            margin-left: auto;
            font-size: 1.2rem;
            display: none;
        }
        .correct .status-icon, .wrong .status-icon { display: block; }

        /* Ekranlar */
        .screen { display: none; opacity: 0; transition: opacity 0.4s ease; }
        .screen.active { display: block; opacity: 1; }

        /* N…ôtic…ô Ekranƒ± */
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--light);
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            border: 5px solid var(--primary);
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @media (max-width: 400px) {
            .container { padding: 25px 20px; width: 95%; }
            h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

    <div class="circle c1"></div>
    <div class="circle c2"></div>

    <div class="container">
        <div id="home-screen" class="screen active">
            <div style="font-size: 60px; margin-bottom: 10px;">üá¨üáß</div>
            <h1>EngPlay Pro</h1>
            <p>Qrammatika v…ô S√∂z ehtiyatƒ±nƒ± …ôyl…ôn…ôr…ôk √∂yr…ôn.</p>
            <button class="btn" onclick="showScreen('level-screen')">Oyuna Ba≈üla üöÄ</button>
        </div>

        <div id="level-screen" class="screen">
            <h2>S…ôviyy…ôni Se√ß</h2>
            <p>Biliyini yoxlamaq √º√ß√ºn uyƒüun s…ôviyy…ôni se√ß.</p>
            
            <div class="level-card" onclick="startGame(0)">
                <div class="level-icon">üå±</div>
                <div class="level-info">
                    <h3>Beginner (Asan)</h3>
                    <span>Sad…ô zamanlar v…ô g√ºnd…ôlik s√∂zl…ôr</span>
                </div>
            </div>

            <div class="level-card" onclick="startGame(1)">
                <div class="level-icon">üî•</div>
                <div class="level-info">
                    <h3>Intermediate (Orta)</h3>
                    <span>Qarƒ±≈üƒ±q qrammatika v…ô ifad…ôl…ôr</span>
                </div>
            </div>

            <div class="level-card" onclick="startGame(2)">
                <div class="level-icon">üíé</div>
                <div class="level-info">
                    <h3>Advanced (√á…ôtin)</h3>
                    <span>ƒ∞diomalar v…ô m√ºr…ôkk…ôb c√ºml…ôl…ôr</span>
                </div>
            </div>

            <button class="btn btn-outline" style="margin-top: 20px;" onclick="showScreen('home-screen')">Geri Qayƒ±t</button>
        </div>

        <div id="game-screen" class="screen">
            <div class="quiz-header">
                <span id="level-badge">Level 1</span>
                <span id="score-badge">Xal: 0</span>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>

            <h2 id="question-text">Sual y√ºkl…ônir...</h2>
            
            <div id="options-container">
                </div>

            <button class="btn btn-outline" style="margin-top: 20px;" onclick="showScreen('level-screen')">√áƒ±xƒ±≈ü</button>
        </div>

        <div id="result-screen" class="screen">
            <div class="score-circle" id="final-score">8/10</div>
            <h2 id="result-title">∆èla N…ôtic…ô! üéâ</h2>
            <p id="result-msg">Siz bu s…ôviyy…ôni uƒüurla ba≈üa vurdunuz.</p>
            
            <button class="btn" id="next-level-btn" onclick="nextLevel()">N√∂vb…ôti S…ôviyy…ô</button>
            <button class="btn btn-outline" onclick="showScreen('home-screen')">Ana Menyuya Qayƒ±t</button>
        </div>
    </div>

<script>
    // --- M∆èLUMAT BAZASI (Qrammatika + L√ºƒü…ôt) ---
    const questions = [
        // Level 0: Beginner (Mixed)
        [
            { q: "I ___ very happy today.", o: ["am", "is", "are"], a: 0 },
            { q: "'Alma' s√∂z√ºn√ºn ingilisc…ôsi n…ôdir?", o: ["Pear", "Apple", "Grape"], a: 1 },
            { q: "She ___ to school every day.", o: ["go", "going", "goes"], a: 2 },
            { q: "Hansƒ± r…ôngdir: 'Yellow'?", o: ["Qƒ±rmƒ±zƒ±", "Sarƒ±", "Ya≈üƒ±l"], a: 1 },
            { q: "This is my book. Give it to ___.", o: ["I", "my", "me"], a: 2 },
            { q: "My brother ___ a new car.", o: ["have", "has", "is"], a: 1 },
            { q: "Zidd m…ônalƒ± s√∂z√º tap: 'Big'", o: ["Large", "Huge", "Small"], a: 2 },
            { q: "___ you speak English?", o: ["Do", "Are", "Is"], a: 0 },
            { q: "Cat is a ___.", o: ["Bird", "Animal", "Fish"], a: 1 },
            { q: "They ___ football now.", o: ["play", "are playing", "plays"], a: 1 }
        ],
        // Level 1: Intermediate (Mixed)
        [
            { q: "I have lived here ___ 2010.", o: ["for", "since", "ago"], a: 1 },
            { q: "'Success' s√∂z√ºn√ºn m…ônasƒ± n…ôdir?", o: ["Uƒüur", "T…ôhl√ºk…ô", "S…ôbir"], a: 0 },
            { q: "If I ___ you, I would study harder.", o: ["was", "were", "am"], a: 1 },
            { q: "She looks forward to ___ you.", o: ["seeing", "see", "saw"], a: 0 },
            { q: "Hansƒ± s√∂z 'S…ôyah…ôt' dem…ôkdir?", o: ["Traffic", "Travel", "Trouble"], a: 1 },
            { q: "The letter ___ by John yesterday.", o: ["wrote", "was written", "written"], a: 1 },
            { q: "I am interested ___ learning music.", o: ["on", "at", "in"], a: 2 },
            { q: "'Borrow' s√∂z√ºn√ºn …ôksi hansƒ±dƒ±r?", o: ["Lend", "Take", "Get"], a: 0 },
            { q: "You ___ smoke here. It's forbidden.", o: ["don't have to", "mustn't", "shouldn't"], a: 1 },
            { q: "He drives very ___.", o: ["careful", "carefully", "care"], a: 1 }
        ],
        // Level 2: Advanced (Mixed)
        [
            { q: "I'd rather you ___ home now.", o: ["go", "went", "gone"], a: 1 },
            { q: "Meaning of 'Procrastinate':", o: ["To delay", "To speed up", "To cancel"], a: 0 },
            { q: "No sooner ___ arrived than it rained.", o: ["I had", "did I", "had I"], a: 2 },
            { q: "ƒ∞diomanƒ± tamamla: 'Piece of ___'", o: ["Bread", "Cake", "Cheese"], a: 1 },
            { q: "She denied ___ the window.", o: ["breaking", "to break", "break"], a: 0 },
            { q: "Sinonimi tap: 'Wealthy'", o: ["Poor", "Rich", "Healthy"], a: 1 },
            { q: "By next year, we ___ for 10 years.", o: ["will marry", "will have been married", "are married"], a: 1 },
            { q: "Despite ___ ill, he came to work.", o: ["being", "he was", "of being"], a: 0 },
            { q: "It's high time we ___ a decision.", o: ["make", "made", "have made"], a: 1 },
            { q: "'To give up' n…ô dem…ôkdir?", o: ["Ba≈ülamaq", "T…ôslim olmaq", "Yuxarƒ± qaldƒ±rmaq"], a: 1 }
        ]
    ];

    let currentLevel = 0;
    let questionIndex = 0;
    let score = 0;

    function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(el => {
            el.classList.remove('active');
            // Qƒ±sa gecikm…ô il…ô gizl…ôd…ôk ki animasiya g√∂r√ºns√ºn
            setTimeout(() => {
                if(!el.classList.contains('active')) el.style.display = 'none';
            }, 400); 
        });
        
        const target = document.getElementById(screenId);
        target.style.display = 'block';
        // Display block olduqdan sonra opacity-ni d…ôyi≈ü
        setTimeout(() => target.classList.add('active'), 50);
    }

    function startGame(level) {
        currentLevel = level;
        questionIndex = 0;
        score = 0;
        document.getElementById('score-badge').innerText = `Xal: 0`;
        document.getElementById('level-badge').innerText = getLevelName(level);
        showScreen('game-screen');
        loadQuestion();
    }

    function loadQuestion() {
        const qData = questions[currentLevel][questionIndex];
        
        // Progress Bar yenil…ô
        const percent = ((questionIndex) / 10) * 100;
        document.getElementById('progress-bar').style.width = `${percent}%`;

        // M…ôtnl…ôri y√ºkl…ô
        const qText = document.getElementById('question-text');
        qText.style.opacity = 0;
        setTimeout(() => {
            qText.textContent = qData.q;
            qText.style.opacity = 1;
        }, 200);
        
        const optionsDiv = document.getElementById('options-container');
        optionsDiv.innerHTML = ''; 

        qData.o.forEach((opt, index) => {
            const div = document.createElement('div');
            div.className = 'option';
            div.innerHTML = `${opt} <span class="status-icon"></span>`;
            div.onclick = () => checkAnswer(index, qData.a, div);
            
            // Animasiya il…ô g…ôli≈ü
            div.style.animation = `fadeIn 0.5s ease ${index * 0.1}s backwards`;
            optionsDiv.appendChild(div);
        });
    }

    function checkAnswer(selected, correct, element) {
        // B√ºt√ºn d√ºym…ôl…ôri kilidl…ô
        const allOptions = document.querySelectorAll('.option');
        allOptions.forEach(opt => opt.classList.add('disabled'));

        const icon = element.querySelector('.status-icon');

        if (selected === correct) {
            element.classList.add('correct');
            icon.innerText = '‚úÖ';
            score++;
            document.getElementById('score-badge').innerText = `Xal: ${score}`;
        } else {
            element.classList.add('wrong');
            icon.innerText = '‚ùå';
            
            // D√ºzg√ºn cavabƒ± g√∂st…ôr
            const correctEl = allOptions[correct];
            correctEl.classList.add('correct');
            correctEl.querySelector('.status-icon').innerText = '‚úÖ';
        }

        // Progress bar tamamlansƒ±n (vizual olaraq sual bitdi)
        const percent = ((questionIndex + 1) / 10) * 100;
        document.getElementById('progress-bar').style.width = `${percent}%`;

        setTimeout(() => {
            nextQuestion();
        }, 1500);
    }

    function nextQuestion() {
        questionIndex++;
        if (questionIndex < 10) {
            loadQuestion();
        } else {
            finishLevel();
        }
    }

    function finishLevel() {
        showScreen('result-screen');
        const nextBtn = document.getElementById('next-level-btn');
        const title = document.getElementById('result-title');
        const msg = document.getElementById('result-msg');
        const scoreEl = document.getElementById('final-score');

        scoreEl.textContent = `${score}/10`;

        if (score >= 7) {
            scoreEl.style.borderColor = "var(--success)";
            scoreEl.style.color = "var(--success)";
            title.textContent = "T…ôbrikl…ôr! üéâ";
            title.style.color = "var(--success)";
            
            if (currentLevel < 2) {
                msg.textContent = `${getLevelName(currentLevel)} s…ôviyy…ôsini uƒüurla ke√ßdiniz!`;
                nextBtn.style.display = 'inline-block';
            } else {
                msg.textContent = "Siz EngPlay ustasƒ±sƒ±nƒ±z! B√ºt√ºn s…ôviyy…ôl…ôr bitdi.";
                nextBtn.style.display = 'none';
            }
        } else {
            scoreEl.style.borderColor = "var(--danger)";
            scoreEl.style.color = "var(--danger)";
            title.textContent = "Bir daha c…ôhd et üòî";
            title.style.color = "var(--danger)";
            msg.textContent = "N√∂vb…ôti s…ôviyy…ôy…ô ke√ßm…ôk √º√ß√ºn …ôn azƒ± 7 sualƒ± d√ºzg√ºn yazmalƒ±sƒ±nƒ±z.";
            
            // "Yenid…ôn oyna" funksiyasƒ±na √ßevir
            nextBtn.style.display = 'inline-block';
            nextBtn.textContent = "Yenid…ôn C…ôhd Et";
            nextBtn.onclick = () => startGame(currentLevel);
            return;
        }

        // ∆èg…ôr ke√ßibs…ô v…ô n√∂vb…ôti level varsa
        nextBtn.textContent = "N√∂vb…ôti S…ôviyy…ô";
        nextBtn.onclick = () => nextLevel();
    }

    function nextLevel() {
        if(currentLevel < 2) {
            startGame(currentLevel + 1);
        }
    }

    function getLevelName(idx) {
        const names = ["Beginner", "Intermediate", "Advanced"];
        return names[idx];
    }
</script>

<style>
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>

</body>
</html>
